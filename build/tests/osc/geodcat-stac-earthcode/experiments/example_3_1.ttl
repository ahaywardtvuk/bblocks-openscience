@prefix : <https://w3id.org/ogc/stac/assets/> .
@prefix dcat: <http://www.w3.org/ns/dcat#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix geojson: <https://purl.org/geojson/vocab#> .
@prefix ns1: <wfprov:> .
@prefix ns2: <http://www.iana.org/assignments/> .
@prefix ns3: <osc:> .
@prefix ns4: <prov:> .
@prefix oa: <http://www.w3.org/ns/oa#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix rec: <https://www.opengis.net/def/ogc-api/records/> .
@prefix stac: <https://w3id.org/ogc/stac/core/> .
@prefix thns: <https://w3id.org/ogc/stac/themes/> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

<https://ogc.org/demo/ospd/aoi> a :Entity,
        ns1:Artifact ;
    :data "-121.399,39.834,-120.74,40.472" .

<https://ogc.org/demo/ospd/bands> a :Entity,
        ns4:Collection,
        ns1:Artifact ;
    :hadMember [ :value "nir" ],
        [ :value "green" ] .

<https://ogc.org/demo/ospd/eo-data-platform> a ns4:Agent,
        ns4:SoftwareAgent,
        ns1:WorkfowEngine ;
    ns4:label "cwltool 3.1.20251031082601" .

<https://ogc.org/demo/ospd/epsg> a :Entity,
        ns1:Artifact ;
    :data "EPSG:4326" .

<https://ogc.org/demo/ospd/ogc-api-inputs> a :Entity,
        ns1:Artifact ;
    :data [ :aoi "-121.399,39.834,-120.74,40.472" ;
            :bands "green",
                "nir" ;
            :epsg "EPSG:4326" ;
            :stac_items "https://earth-search.aws.element84.com/v0/collections/sentinel-s2-l2a-cogs/items/S2A_10TFK_20220524_0_L2A",
                "https://earth-search.aws.element84.com/v0/collections/sentinel-s2-l2a-cogs/items/S2B_10TFK_20210713_0_L2A" ] .

<https://ogc.org/demo/ospd/stac_items> a :Entity,
        ns1:Artifact ;
    :hadMember "https://earth-search.aws.element84.com/v0/collections/sentinel-s2-l2a-cogs/items/S2A_10TFK_20220524_0_L2A",
        "https://earth-search.aws.element84.com/v0/collections/sentinel-s2-l2a-cogs/items/S2B_10TFK_20210713_0_L2A" .

<https://ogc.org/demo/ospd/water-bodies-execution> a geojson:Feature ;
    dcterms:conformsTo <http://www.opengis.net/spec/ogcapi-records-1/1.0/req/record-core> ;
    rdfs:seeAlso [ rdfs:label "Theme: Land" ;
            dcterms:format "application/json" ;
            ns2:relation <http://www.iana.org/assignments/relation/related> ;
            oa:hasTarget <https://example.com/open-science-catalog-metadata/themes/land/catalog.json> ],
        [ rdfs:label "Workflow: Water Bodies" ;
            dcterms:format "application/json" ;
            ns2:relation <http://www.iana.org/assignments/relation/related> ;
            oa:hasTarget <https://example.com/open-science-catalog-metadata/workflows/waterbodies/record.json> ],
        [ dcterms:format "application/json" ;
            ns2:relation <http://www.iana.org/assignments/relation/self> ;
            oa:hasTarget <https://example.com/open-science-catalog-metadata/experiments/water-bodies-execution/record.json> ],
        [ rdfs:label "Water Bodies Execution Outputs" ;
            dcterms:format "application/json" ;
            ns2:relation <http://www.iana.org/assignments/relation/child> ;
            oa:hasTarget <https://example.com/open-science-catalog-metadata/products/water-bodies-execution-outputs/collection.json> ],
        [ rdfs:label "Experiments" ;
            dcterms:format "application/json" ;
            ns2:relation <http://www.iana.org/assignments/relation/parent> ;
            oa:hasTarget <https://example.com/open-science-catalog-metadata/experiments/catalog.json> ],
        [ rdfs:label "An EO data exploitation platform" ;
            dcterms:format "application/json" ;
            ns2:relation <http://www.iana.org/assignments/relation/service> ;
            oa:hasTarget <https://example.com> ],
        [ rdfs:label "Open Science Catalog" ;
            dcterms:format "application/json" ;
            ns2:relation <http://www.iana.org/assignments/relation/root> ;
            oa:hasTarget <https://example.com/open-science-catalog-metadata/catalog.json> ] ;
    :_comment "This mocks up provenance information for the water bodies execution, first with plain prov then with wf4ever." ;
    :endedAtTime "2025-01-21T17:59:50Z" ;
    :generated "https://example.com/products/water-bodies/collection.json" ;
    :properties [ a :experiment ;
            dcterms:created "2025-01-21T18:00:00Z" ;
            dcterms:description "Experiment using the water bodies workflow." ;
            dcterms:modified "2025-01-21T18:40:00Z" ;
            dcterms:title "Water Bodies Experiment" ;
            dcat:contactPoint [ :contactInstructions "SEE WEBSITE" ;
                    :links [ dcterms:type "text/html" ;
                            ns2:relation <http://www.iana.org/assignments/relation/about> ;
                            oa:hasTarget <https://example.com/> ] ;
                    :name "An Org" ;
                    stac:roles "processor" ],
                [ :contactInstructions "Contact via website" ;
                    :name "A person" ;
                    :organization "An Org" ;
                    :position "Researcher" ;
                    stac:roles "principal investigator" ] ;
            dcat:license "proprietary" ;
            :prov <https://ogc.org/demo/ospd/water-bodies-execution> ;
            :version "2" ;
            rec:format [ rec:name "GeoTIFF" ] ;
            rec:themes [ thns:concepts [ thns:id "land"^^xsd:string ] ;
                    thns:scheme "https://github.com/stac-extensions/osc#theme" ] ;
            ns3:workflow "waterbodies" ] ;
    :provType "Activity",
        "wfprov:WorkflowRun" ;
    :qualifiedUsage [ a :Usage ;
            :entity <https://ogc.org/demo/ospd/ogc-api-inputs> ;
            :role "Processes API inputs" ],
        [ a :Usage ;
            :entity <https://ogc.org/demo/ospd/stac_items> ;
            :role "https://example.com/workflows/water-bodies/record.json#main/stac_items" ],
        [ a :Usage ;
            :entity <https://ogc.org/demo/ospd/bands> ;
            :role "https://example.com/workflows/water-bodies/record.json#main/bands" ],
        [ a :Usage ;
            :entity <https://ogc.org/demo/ospd/aoi> ;
            :role "https://example.com/workflows/water-bodies/record.json#main/aoi" ],
        [ a :Usage ;
            :entity <https://ogc.org/demo/ospd/epsg> ;
            :role "https://example.com/workflows/water-bodies/record.json#main/epsg" ] ;
    :startedAtTime "2025-01-21T17:40:50Z" ;
    :wasAssociatedWith [ :actedOnBehalfOf [ :agentType "Organization" ;
                    :name "An Org" ] ;
            :agentType "Person" ;
            :name "A Person" ] ;
    ns1:describedByWorkflow "https://example.com/workflows/waterbodies/record.json" ;
    ns1:usedInput [ a ns1:Artifact ;
            :describedByParameter "stac_items" ;
            :hadMember "https://earth-search.aws.element84.com/v0/collections/sentinel-s2-l2a-cogs/items/S2A_10TFK_20220524_0_L2A",
                "https://earth-search.aws.element84.com/v0/collections/sentinel-s2-l2a-cogs/items/S2B_10TFK_20210713_0_L2A" ],
        [ a ns1:Artifact ;
            :data "green",
                "nir" ;
            :describedByParameter "bands" ],
        [ a ns1:Artifact ;
            :data "EPSG:4326" ;
            :describedByParameter "epsg" ],
        [ a ns1:Artifact ;
            :data "-121.399,39.834,-120.74,40.472" ;
            :describedByParameter "aoi" ] ;
    ns1:wasEnactedBy <https://ogc.org/demo/ospd/eo-data-platform> .

